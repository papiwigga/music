<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Music Player Pro</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Arial, sans-serif;
}

body {
    background: #121212;
    color: #fff;
    display: flex;
    height: 100vh;
}

.container {
    display: flex;
    width: 100%;
}

/* SIDEBAR */
.sidebar {
    width: 250px;
    background: #181818;
    padding: 20px;
    overflow-y: auto;
}

.sidebar h2 {
    margin-bottom: 20px;
}

.album {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    margin-bottom: 15px;
    padding: 10px;
    border-radius: 8px;
    transition: 0.3s;
}

.album:hover {
    background: #282828;
}

.album img {
    width: 50px;
    height: 50px;
    border-radius: 5px;
}

/* MAIN */
.main {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

/* TRACK LIST */
.tracklist {
    padding: 20px;
    overflow-y: auto;
}

.track {
    padding: 10px;
    border-bottom: 1px solid #333;
    cursor: pointer;
}

.track:hover {
    background: #282828;
}

/* PLAYER */
.player {
    background: #181818;
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.controls {
    display: flex;
    justify-content: center;
    gap: 20px;
}

button {
    background: none;
    border: none;
    color: white;
    font-size: 18px;
    cursor: pointer;
}

.progress-container {
    width: 100%;
    height: 5px;
    background: #333;
    border-radius: 5px;
    cursor: pointer;
}

.progress {
    height: 100%;
    width: 0%;
    background: #1db954;
    border-radius: 5px;
}

.time {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
}

/* RESPONSIVE */
@media(max-width:768px){
    .sidebar {
        width: 100px;
    }
    .album span {
        display: none;
    }
}
</style>
</head>
<body>

<div class="container">
    <div class="sidebar">
        <h2>Álbumes</h2>
        <div id="albumList"></div>
    </div>

    <div class="main">
        <div class="tracklist" id="trackList">
            <h2>Selecciona un álbum</h2>
        </div>

        <div class="player">
            <div class="controls">
                <button onclick="prevTrack()">⏮</button>
                <button onclick="togglePlay()" id="playBtn">▶</button>
                <button onclick="nextTrack()">⏭</button>
            </div>

            <div class="progress-container" onclick="setProgress(event)">
                <div class="progress" id="progress"></div>
            </div>

            <div class="time">
                <span id="currentTime">0:00</span>
                <span id="duration">0:00</span>
            </div>
        </div>
    </div>
</div>

<script>
/* =============================
   BASE DE DATOS DE ÁLBUMES
============================= */

const catalog = [
    {
        titulo: "PRIVATE SPOT Vol. 1",
        artista: "LIT PAPI",
        portada: "https://www.dropbox.com/scl/fi/dp47olh69qgr3uiefrgt2/PRIVATE-SPOT-FRONT.png?rlkey=mc8sg7up0i4i2f6mmgiplhfoa&st=f639voge&dl=0",
        canciones: [
            { nombre: "BORI'", archivo: "https://www.dropbox.com/scl/fi/6patnwzdrrtbm3bgkt8l2/03-LIT-PAPI-03-LIT-PAPI-BORI.mp3?rlkey=58rbbr3ug0zerzqo2wif7ss2a&st=alhx8q4h&raw=1" },
            { nombre: "TRACK 4", archivo: "music/after-hours/save-your-tears.mp3" }
        ]
    },
    {
        titulo: "ALBUM 2",
        artista: "LIT PAPI",
        portada: "music/random-access-memories/cover.jpg",
        canciones: [
            { nombre: "TRACK1", archivo: "music/random-access-memories/get-lucky.mp3" },
            { nombre: "TRACK2", archivo: "music/random-access-memories/instant-crush.mp3" }
        ]
    }
];

/* =============================
   VARIABLES GLOBALES
============================= */

const audio = new Audio();
let currentAlbum = null;
let currentTrackIndex = 0;

/* =============================
   RENDER ÁLBUMES
============================= */

const albumList = document.getElementById("albumList");
const trackList = document.getElementById("trackList");

catalog.forEach((album, index) => {
    const div = document.createElement("div");
    div.classList.add("album");
    div.innerHTML = `
        <img src="${album.portada}" alt="">
        <span>${album.titulo}</span>
    `;
    div.onclick = () => loadAlbum(index);
    albumList.appendChild(div);
});

function loadAlbum(index){
    currentAlbum = catalog[index];
    trackList.innerHTML = `<h2>${currentAlbum.titulo} - ${currentAlbum.artista}</h2>`;
    
    currentAlbum.canciones.forEach((track, i) => {
        const div = document.createElement("div");
        div.classList.add("track");
        div.textContent = track.nombre;
        div.onclick = () => loadTrack(i);
        trackList.appendChild(div);
    });
}

/* =============================
   CONTROL REPRODUCTOR
============================= */

function loadTrack(index){
    currentTrackIndex = index;
    audio.src = currentAlbum.canciones[index].archivo;
    audio.play();
    document.getElementById("playBtn").textContent = "⏸";
}

function togglePlay(){
    if(audio.paused){
        audio.play();
        playBtn.textContent = "⏸";
    } else {
        audio.pause();
        playBtn.textContent = "▶";
    }
}

function nextTrack(){
    if(currentAlbum){
        currentTrackIndex = (currentTrackIndex + 1) % currentAlbum.canciones.length;
        loadTrack(currentTrackIndex);
    }
}

function prevTrack(){
    if(currentAlbum){
        currentTrackIndex = (currentTrackIndex - 1 + currentAlbum.canciones.length) % currentAlbum.canciones.length;
        loadTrack(currentTrackIndex);
    }
}

/* =============================
   PROGRESO Y TIEMPO
============================= */

audio.addEventListener("timeupdate", () => {
    const progressPercent = (audio.currentTime / audio.duration) * 100;
    document.getElementById("progress").style.width = progressPercent + "%";
    
    document.getElementById("currentTime").textContent = formatTime(audio.currentTime);
    document.getElementById("duration").textContent = formatTime(audio.duration);
});

function setProgress(e){
    const width = e.currentTarget.clientWidth;
    const clickX = e.offsetX;
    audio.currentTime = (clickX / width) * audio.duration;
}

function formatTime(time){
    if(isNaN(time)) return "0:00";
    const minutes = Math.floor(time / 60);
    const seconds = Math.floor(time % 60).toString().padStart(2, "0");
    return `${minutes}:${seconds}`;
}

audio.addEventListener("ended", nextTrack);

</script>
</body>
</html>



